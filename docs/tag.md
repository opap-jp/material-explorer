# タグ

## 概要

**タグ（*tag*）**は、簡潔な自然言語で記述される、**素材（*material*）**の特徴を説明するものです。タグは特徴による素材の検索を実現します。

一つの素材には0個以上のタグが設定され、一つのタグは0個以上の素材に設定されます。

Material Explorer のユーザーは、検索においてタグを使用することができます。
検索条件としてタグを指定することで、そのタグが設定された素材のリストを取得できます。

タグの例としては、`こうしす！第1話`，`井二 かける`，`祝園 アカネ` などがあります。

## 素材に対するタグの設定

タグは、あらかじめ**マニフェスト（*manifest*）**において宣言されなければなりません。マニフェストで宣言されたタグは**タグ定義（*tag definition*）**に登録されます。タグ定義は、システム全体に存在するタグの集合です。

素材に対してタグを設定するには、その素材に対応する**メタデータファイル（*metadata file*）**でそのタグを記述します。

素材に対して宣言されていないタグの設定が試みられると、そのタグは特殊なタグ，**未宣言タグ**としてタグ定義に追加され、未宣言タグが存在していることを示す警告が登録されます。

## 形式

**カテゴリ**は、タグの種類を説明するものです。

一つのタグは、一つのカテゴリに属します。一つのカテゴリには0個以上のタグが属します。

カテゴリの例としては、`リポジトリ`，`人物`，`制作者` などがあります。

タグを構成する、自然言語による記述を**タグの名称（*tag name*）**といいます。また、複数の古い名称を別の名称で上書きして総称するために用いる特殊な名称を、**総称置換子（*generic replacement*）**といいます。

タグは、1個以上の名称を持ちます。

タグの例としては、名称として `[祝園 アカネ, アカネ]` を持つものなどがあります。

## 正規化

多少の表記ゆれの許容のため、タグは**正規化**されます。正規化は、実際には次のことが行なわれます。

1. 半角スペースと全角スペースが削除されます。
1. 全角英数は半角英数に変換されます。
1. カタカナはひらがなに変換されます。
1. 大文字は小文字に変換されます。

たとえば、`祝園 アカネ` は `祝園あかね` に変換されます。
